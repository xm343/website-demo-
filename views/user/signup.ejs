<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign Up</title>
    <link rel="stylesheet" href="/css/signup.css">
</head>
<body>

<div class="container">
    <div class="signup-card">

        <!-- LEFT SIDE FORM -->
        <div class="form-section">
            <h2>Sign Up</h2>

            <form id="signform" action="/signup" method="POST">

                <div class="input-group">
                    <label>Full Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter Name" required>
                </div>
                <div id="error1" class="error-message"></div>

                <div class="input-group">
                    <label>Email Address</label>
                    <input type="email" id="email" name="email" placeholder="Enter Email" required>
                </div>
                <div id="error2" class="error-message"></div>
                <div class="input-group">
                    <label>Phone Number</label>
                    <input type="tel" id="phone" name="phone" placeholder="Enter Phone Number" required>
                </div>
                <div id="error3" class="error-message"></div>
                <div class="input-group">
                    <label>Password</label>
                    <input type="password" id="password" name="password" placeholder="Password" required>
                </div>
                <div id="error4" class="error-message"></div>
                <div class="input-group">
                    <label>Confirm Password</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required>
                </div>
                <div id="error5" class="error-message"></div>
                <button type="submit" class="btn-primary">Sign Up</button>

                <div class="divider">or sign up with</div>

                <a href="/auth/google" class="google-btn">
                    <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google">
                    Google
                </a>

                <p class="login-link">
                    Already registered? <a href="/login">Log in</a>
                </p>

            </form>
        </div>

        <!-- RIGHT SIDE IMAGE -->
        <div class="image-section">
            <div class="brand">MALE FASHION</div>
            <h3>Happy Shopping</h3>
            <img src="/images/signup-image.png" alt="Shopping">
        </div>

    </div>
</div>

</body>
</html>


<script>
    const nameid = document.getElementById('name');
    const emailid = document.getElementById('email');
    const phoneid = document.getElementById('phone');
    const passid = document.getElementById('password');
    const cpassid = document.getElementById('confirmPassword');
    const error1 = document.getElementById('error1');
    const error2 = document.getElementById('error2');
    const error3 = document.getElementById('error3');
    const error4 = document.getElementById('error4');
    const error5 = document.getElementById('error5');
    const signform = document.getElementById('signform');

    function nameValidateChecking() {
        const nameval = nameid.value.trim(); // Corrected .value() to .value and added .trim()
        const namepattern = /^[A-Za-z\s]+$/;
        if (nameval === '') {
            error1.style.display = 'block';
            error1.innerHTML = 'Please enter your name.';
            return false;
        } else if (!namepattern.test(nameval)) {
            error1.style.display = 'block';
            error1.innerHTML = 'Name should contain only alphabets and spaces.';
            return false;
        } else {
            error1.style.display = 'none';
            error1.innerHTML = '';
            return true;
        }
    }

    function emailValidateChecking() {
        const emailval = emailid.value.trim(); // Corrected .value() to .value and added .trim()
        const emailpattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (emailval === '') {
            error2.style.display = 'block';
            error2.innerHTML = 'Please enter your email address.';
            return false;
        } else if (!emailpattern.test(emailval)) {
            error2.style.display = 'block';
            error2.innerHTML = 'Please enter a valid email address.';
            return false;
        } else {
            error2.style.display = 'none';
            error2.innerHTML = '';
            return true;
        }
    }

    function phoneValidateChecking() {
        const phoneval = phoneid.value.trim(); // Added .trim()
        // Basic phone number validation for 10 digits
        const phonepattern = /^\d{10}$/; 
        if (phoneval === '') {
            error3.style.display = 'block';
            error3.innerHTML = 'Please enter your phone number.';
            return false;
        } else if (!phonepattern.test(phoneval)) {
            error3.style.display = 'block';
            error3.innerHTML = 'Phone number must be 10 digits.';
            return false;
        } else {
            error3.style.display = 'none';
            error3.innerHTML = '';
            return true;
        }
    }

    function passValidateChecking() {
        const passval = passid.value;
        // Password strength: at least 8 characters, one uppercase, one lowercase, one number, one special character
        const passwordpattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
        if (passval === '') {
            error4.style.display = 'block';
            error4.innerHTML = 'Please enter a password.';
            return false;
        } else if (!passwordpattern.test(passval)) {
            error4.style.display = 'block';
            error4.innerHTML = 'Password must be at least 8 characters long and include uppercase, lowercase, number, and special character.';
            return false;
        } else {
            error4.style.display = 'none';
            error4.innerHTML = '';
            return true;
        }
    }

    function confirmPasswordValidateChecking() {
        const passval = passid.value;
        const cpassval = cpassid.value;
        if (cpassval === '') {
            error5.style.display = 'block';
            error5.innerHTML = 'Please confirm your password.';
            return false;
        } else if (passval !== cpassval) {
            error5.style.display = 'block';
            error5.innerHTML = 'Passwords do not match.';
            return false;
        } else {
            error5.style.display = 'none';
            error5.innerHTML = '';
            return true;
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        signform.addEventListener('submit', function(e) {
            // Call all validation functions and store their results
            const isNameValid = nameValidateChecking();
            const isEmailValid = emailValidateChecking();
            const isPhoneValid = phoneValidateChecking();
            const isPasswordValid = passValidateChecking();
            const isConfirmPasswordValid = confirmPasswordValidateChecking();

            // If any validation fails, prevent form submission
            if (!isNameValid || !isEmailValid || !isPhoneValid || !isPasswordValid || !isConfirmPasswordValid) {
                e.preventDefault();
            }
        });
    });
</script>